#!/bin/bash

# Beee Media å®Œæ•´ç‰ˆéƒ¨ç½²è„šæœ¬
# åŒ…å«åˆ›ä½œè€…æœç´¢åŠŸèƒ½çš„å®Œæ•´éƒ¨ç½²åŒ…

echo "ðŸ Beee Media å®Œæ•´ç‰ˆéƒ¨ç½²è„šæœ¬å¯åŠ¨..."
echo "======================================"

# æ£€æŸ¥å¿…è¦æ–‡ä»¶
echo "ðŸ“‹ æ£€æŸ¥é¡¹ç›®æ–‡ä»¶..."
required_files=("index.html" "creators.html" "styles.css" "creators-styles.css" "script.js" "creators.js" "app.py" "config.py")
for file in "${required_files[@]}"; do
    if [ -f "$file" ]; then
        echo "âœ… $file å­˜åœ¨"
    else
        echo "âŒ $file ç¼ºå¤±"
        exit 1
    fi
done

# åˆ›å»ºéƒ¨ç½²åŒ…
echo "ðŸ“¦ åˆ›å»ºBeee Mediaå®Œæ•´ç‰ˆéƒ¨ç½²åŒ…..."
deploy_dir="deploy-beee-complete"
rm -rf "$deploy_dir"
mkdir -p "$deploy_dir"

# å¤åˆ¶å‰ç«¯æ–‡ä»¶
echo "ðŸ“ å¤åˆ¶å‰ç«¯æ–‡ä»¶..."
cp index.html "$deploy_dir/"
cp creators.html "$deploy_dir/"
cp styles.css "$deploy_dir/"
cp creators-styles.css "$deploy_dir/"
cp script.js "$deploy_dir/"
cp creators.js "$deploy_dir/"
cp README.md "$deploy_dir/"
cp DEPLOYMENT.md "$deploy_dir/"

# åˆ›å»ºCloudflare Pagesé…ç½®æ–‡ä»¶
echo "âš™ï¸ åˆ›å»ºCloudflare Pagesé…ç½®..."
cat > "$deploy_dir/_headers" << EOF
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: camera=(), microphone=(), geolocation=()
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self';
EOF

# åˆ›å»ºCloudflare Pagesé‡å®šå‘è§„åˆ™
cat > "$deploy_dir/_redirects" << EOF
/*      /index.html  200
EOF

# åˆ›å»ºBeee Mediaå®Œæ•´ç‰ˆéƒ¨ç½²è¯´æ˜Ž
echo "ðŸ“ åˆ›å»ºBeee Mediaå®Œæ•´ç‰ˆéƒ¨ç½²è¯´æ˜Ž..."
cat > "$deploy_dir/BEEE_COMPLETE_DEPLOY_INSTRUCTIONS.md" << 'EOF'
# ðŸ Beee Media å®Œæ•´ç‰ˆéƒ¨ç½²æŒ‡å—

## ðŸš€ å¿«é€Ÿéƒ¨ç½²åˆ° beeemedia.com

### 1. ç™»å½•Cloudflare
è®¿é—® [Cloudflare Dashboard](https://dash.cloudflare.com/) å¹¶ç™»å½•ä½ çš„è´¦æˆ·

### 2. åˆ›å»ºPagesé¡¹ç›®
1. ç‚¹å‡»å·¦ä¾§èœå•çš„ **"Pages"**
2. ç‚¹å‡» **"Create a project"**
3. é€‰æ‹© **"Upload assets"**

### 3. ä¸Šä¼ æ–‡ä»¶
1. å°† `beee-media-complete-deploy.zip` æ–‡ä»¶æ‹–æ‹½åˆ°ä¸Šä¼ åŒºåŸŸ
2. ç­‰å¾…æ–‡ä»¶ä¸Šä¼ å®Œæˆ
3. ç‚¹å‡» **"Deploy site"**

### 4. é…ç½®åŸŸå
1. éƒ¨ç½²å®ŒæˆåŽï¼Œç‚¹å‡» **"Custom domains"**
2. ç‚¹å‡» **"Set up a custom domain"**
3. è¾“å…¥ `beeemedia.com`
4. æŒ‰ç…§æç¤ºé…ç½®DNSè®°å½•

## ðŸŒ åŸŸåé…ç½®è¯¦æƒ…

### DNSè®°å½•è®¾ç½®
Cloudflareä¼šè‡ªåŠ¨ä¸ºä½ é…ç½®ä»¥ä¸‹è®°å½•ï¼š
- **Aè®°å½•**: `@` â†’ Cloudflare Pages IP
- **CNAMEè®°å½•**: `www` â†’ `beeemedia.com`

### SSLè®¾ç½®
- **åŠ å¯†æ¨¡å¼**: Full (strict)
- **HTTPSé‡å®šå‘**: è‡ªåŠ¨å¯ç”¨
- **SSLè¯ä¹¦**: è‡ªåŠ¨ç”Ÿæˆ

## ðŸŽ¨ ç½‘ç«™ç‰¹æ€§

### è®¾è®¡é£Žæ ¼
- ðŸŽ¯ æ¸…æ–°èœœé»„ä¸»è‰²è°ƒï¼Œä½“çŽ°èœœèœ‚ç²¾ç¥ž
- ðŸŒˆ çŽ°ä»£åŒ–æ¸å˜å’ŒåŠ¨æ•ˆ
- ðŸ“± å®Œå…¨å“åº”å¼è®¾è®¡
- âš¡ é«˜æ€§èƒ½åŠ è½½é€Ÿåº¦

### æ ¸å¿ƒåŠŸèƒ½
- ðŸŒ AIé©±åŠ¨çš„å¢žé•¿å·¥ä½œå®¤
- ðŸ“Š è¶‹åŠ¿æ•æ‰ä¸Žæ•°æ®åˆ†æž
- ðŸŽ¬ AIå†…å®¹ç”Ÿæˆ
- ðŸŽ¯ æ•ˆæžœé¢„æµ‹ä¸Žåˆ†å‘
- ðŸ” **åˆ›ä½œè€…æœç´¢åŠŸèƒ½** (æ–°å¢ž)
- ðŸ’° é€æ˜Žå®šä»·æ–¹æ¡ˆ

## ðŸ” åˆ›ä½œè€…æœç´¢åŠŸèƒ½

### ä¸»è¦ç‰¹æ€§
- **å…³é”®è¯æœç´¢**: é€šè¿‡è§†é¢‘å…³é”®è¯ç²¾å‡†æ‰¾åˆ°åˆ›ä½œè€…
- **å¤šç»´åº¦ç­›é€‰**: å›½å®¶ã€ç²‰ä¸æ•°ã€è¯­è¨€ã€è§†é¢‘æ•°é‡ç­‰
- **è¯¦ç»†æ•°æ®å±•ç¤º**: åŒ…å«æ‰€æœ‰è¦æ±‚çš„å­—æ®µä¿¡æ¯
- **æ™ºèƒ½æŽ’åº**: æ”¯æŒå¤šç§æŽ’åºæ–¹å¼
- **æ•°æ®å¯¼å‡º**: CSVæ ¼å¼å¯¼å‡ºæœç´¢ç»“æžœ
- **è¯¦æƒ…æŸ¥çœ‹**: æ¨¡æ€æ¡†å±•ç¤ºå®Œæ•´åˆ›ä½œè€…ä¿¡æ¯

### æ•°æ®å­—æ®µ
- æœç´¢å…³é”®è¯ã€æ˜µç§°ã€å”¯ä¸€ID
- ç²‰ä¸æ•°ã€è§†é¢‘æ€»æ•°ã€æ€»ç‚¹èµžæ•°
- TikTokè´¦æˆ·é“¾æŽ¥ã€ä¸ªäººç®€ä»‹
- æœ€æ–°5ä¸ªè§†é¢‘é“¾æŽ¥å’Œæ’­æ”¾é‡
- å¹³å‡æ’­æ”¾é‡ã€ä¸­ä½æ•°æ’­æ”¾é‡
- é¢„æœŸä»·æ ¼ã€é‚®ç®±åœ°å€ç­‰

### ç”¨æˆ·ä½“éªŒ
- **ç›´è§‚ç•Œé¢**: æ¸…æ™°çš„æœç´¢è¡¨å•å’Œç»“æžœå±•ç¤º
- **å¿«é€Ÿå“åº”**: å®žæ—¶æœç´¢å’Œç­›é€‰
- **ç§»åŠ¨é€‚é…**: å®Œå…¨å“åº”å¼è®¾è®¡
- **äº¤äº’å‹å¥½**: æ‚¬æµ®æ•ˆæžœã€åŠ è½½åŠ¨ç”»

## ðŸ”§ éƒ¨ç½²åŽé…ç½®

### æ€§èƒ½ä¼˜åŒ–
- âœ… è‡ªåŠ¨CDNåŠ é€Ÿ
- âœ… å›¾ç‰‡ä¼˜åŒ–
- âœ… ä»£ç åŽ‹ç¼©
- âœ… æµè§ˆå™¨ç¼“å­˜

### å®‰å…¨è®¾ç½®
- âœ… è‡ªåŠ¨HTTPS
- âœ… å®‰å…¨å¤´é…ç½®
- âœ… å†…å®¹å®‰å…¨ç­–ç•¥

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
2. æ£€æŸ¥DNSé…ç½®
3. éªŒè¯SSLè¯ä¹¦çŠ¶æ€
4. è”ç³»æŠ€æœ¯æ”¯æŒ

## ðŸŽ¯ é¢„æœŸç»“æžœ

éƒ¨ç½²æˆåŠŸåŽï¼Œä½ å°†èŽ·å¾—ï¼š
- ðŸ ä¸“ä¸šçš„ä¼ä¸šçº§ç½‘ç«™
- ðŸŒ å…¨çƒCDNåŠ é€Ÿ
- ðŸ”’ è‡ªåŠ¨SSLè¯ä¹¦
- ðŸ“± å®Œå…¨å“åº”å¼è®¾è®¡
- âš¡ é«˜æ€§èƒ½åŠ è½½é€Ÿåº¦
- ðŸ” å®Œæ•´çš„åˆ›ä½œè€…æœç´¢åŠŸèƒ½

## ðŸ“± é¡µé¢ç»“æž„

### ä¸»é¡µ (index.html)
- HeroåŒºåŸŸï¼šAIé©±åŠ¨çš„å¢žé•¿å·¥ä½œå®¤ä»‹ç»
- åŠŸèƒ½å±•ç¤ºï¼šä¸‰å¤§æ ¸å¿ƒåŠŸèƒ½
- äº§å“ä»‹ç»ï¼šè¶‹åŠ¿é›·è¾¾ã€å†…å®¹ç”Ÿæˆå™¨ã€æ•ˆæžœé¢„æµ‹
- è§£å†³æ–¹æ¡ˆï¼šé’ˆå¯¹ä¸åŒè¡Œä¸šçš„å®šåˆ¶æ–¹æ¡ˆ
- å®šä»·æ–¹æ¡ˆï¼šä¸‰ä¸ªå¥—é¤é€‰æ‹©
- è”ç³»æˆ‘ä»¬ï¼šå®Œæ•´çš„è”ç³»ä¿¡æ¯

### åˆ›ä½œè€…æœç´¢é¡µ (creators.html)
- é¡µé¢å¤´éƒ¨ï¼šæœç´¢åŠŸèƒ½ä»‹ç»å’Œç»Ÿè®¡æ•°æ®
- æœç´¢åŒºåŸŸï¼šé«˜çº§æœç´¢è¡¨å•å’Œç­›é€‰æ¡ä»¶
- ç»“æžœå±•ç¤ºï¼šè¡¨æ ¼å½¢å¼å±•ç¤ºåˆ›ä½œè€…æ•°æ®
- è¯¦æƒ…æ¨¡æ€æ¡†ï¼šå®Œæ•´çš„åˆ›ä½œè€…ä¿¡æ¯å±•ç¤º
- åˆ†é¡µåŠŸèƒ½ï¼šæ”¯æŒå¤§é‡æ•°æ®çš„åˆ†é¡µæµè§ˆ

---

**Beee Media** - åƒèœœèœ‚ä¸€æ ·ç²¾å‡†ã€é«˜æ•ˆã€åä½œï¼ ðŸâœ¨
EOF

# åˆ›å»ºZIPåŒ…
echo "ðŸ—œï¸ åˆ›å»ºZIPåŒ…..."
cd "$deploy_dir"
zip -r ../beee-media-complete-deploy.zip . -x "*.DS_Store" "*/__pycache__/*"
cd ..

echo "âœ… Beee Mediaå®Œæ•´ç‰ˆéƒ¨ç½²åŒ…åˆ›å»ºå®Œæˆï¼"
echo "ðŸ“¦ æ–‡ä»¶: beee-media-complete-deploy.zip"
echo ""
echo "ðŸŽ¯ ä¸‹ä¸€æ­¥ï¼š"
echo "1. è®¿é—® https://dash.cloudflare.com/pages"
echo "2. åˆ›å»ºæ–°é¡¹ç›®"
echo "3. ä¸Šä¼  beeee-media-complete-deploy.zip æ–‡ä»¶"
echo "4. é…ç½® beeemedia.com åŸŸå"
echo ""
echo "ðŸ ä½ çš„Beee Mediaå®Œæ•´ç‰ˆç½‘ç«™å°†åœ¨å‡ åˆ†é’Ÿå†…ä¸Šçº¿ï¼"
echo ""
echo "âœ¨ å®Œæ•´åŠŸèƒ½ï¼š"
echo "   - æ¸…æ–°èœœé»„é…è‰²æ–¹æ¡ˆ"
echo "   - èœœèœ‚ä¸»é¢˜è®¾è®¡å…ƒç´ "
echo "   - AIåŠ©æ‰‹æ‚¬æµ®æŒ‰é’®"
echo "   - çŽ°ä»£åŒ–åŠ¨æ•ˆå’Œäº¤äº’"
echo "   - å®Œå…¨å“åº”å¼è®¾è®¡"
echo "   - ðŸ” åˆ›ä½œè€…æœç´¢åŠŸèƒ½"
echo "   - ðŸ“Š è¯¦ç»†æ•°æ®å±•ç¤º"
echo "   - ðŸ“¤ æ•°æ®å¯¼å‡ºåŠŸèƒ½"
echo "   - ðŸŽ¯ å¤šç»´åº¦ç­›é€‰"
echo "   - ðŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–"
